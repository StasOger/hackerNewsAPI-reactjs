[{"D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\index.js":"1","D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\App.jsx":"2","D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\components\\Item.jsx":"3","D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\components\\FetchNews.jsx":"4"},{"size":385,"mtime":1683586049188,"results":"5","hashOfConfig":"6"},{"size":400,"mtime":1683667677523,"results":"7","hashOfConfig":"6"},{"size":5054,"mtime":1683667691682,"results":"8","hashOfConfig":"6"},{"size":3577,"mtime":1683667656356,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1bgwq5a",{"filePath":"13","messages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"15","messages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"12"},"D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\index.js",[],["21","22"],"D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\App.jsx",[],"D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\components\\Item.jsx",["23","24","25","26","27","28"],"import { useState, useEffect } from \"react\"\r\nimport { BrowserRouter as Router,  Link, Outlet, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction Item() {\r\n\r\n// достаем из url id новости \r\n  const currentUrl = window.location.href;\r\n  const localhost3000 = \"http://localhost:3000/Item/\"\r\n  const itemId = currentUrl.replace(localhost3000, \"\")\r\n  let by = \"\";\r\n\r\n  \r\n  const [itemGet, setItem] = useState([])\r\n\r\n  const [comments, setCooments] = useState([])\r\n\r\n  \r\n  // const [itemm, setItemm] = useState([])\r\n  const [queryy, setQueryy] = useState(\"programming\")\r\n  const [isLoading, setIsLoadingg] = useState(true) // loading state\r\n  // const useNavigate = ReactRouterDOM.useNavigate;\r\n  const navigate = useNavigate();\r\n\r\n  // const useNavigate = ReactRouterDOM.useNavigate;\r\n  // const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    setIsLoadingg(true)\r\n    const fetchStory = async () => {\r\n      const api_story_id = await \r\n      fetch (`https://hacker-news.firebaseio.com/v0/item/${itemId}.json?print=pretty`)\r\n      const storyInfo = await api_story_id.json()\r\n\r\n      setItem(storyInfo)\r\n      \r\n      var step;\r\n      \r\n      for (step = 0; step < storyInfo.descendants; step++) {\r\n        const api_story_id = await \r\n        fetch (`https://hacker-news.firebaseio.com/v0/item/${storyInfo.kids[step]}.json?print=pretty`)\r\n        const commentInfo = await api_story_id.json()\r\n        if (commentInfo != null){\r\n          console.log(commentInfo)\r\n          setCooments(commentInfo)\r\n        }\r\n      }\r\n      \r\n    }\r\n\r\n    fetchStory()\r\n    // setItemm(itemGett)\r\n    // setCoomentss(comments)\r\n    setIsLoadingg(false)\r\n  }, [queryy]);\r\n\r\n  const author = itemGet.by; \r\n  const id = itemGet.id; \r\n  const descendants = itemGet.descendants; \r\n  const title = itemGet.title; \r\n  const url = itemGet.url; \r\n  const time = itemGet.time; \r\n  \r\n  const commentId = comments.id;\r\n  const commentBy = comments.by; \r\n  const commentText = comments.text; \r\n\r\n  // конвертируем дату из long в date\r\n  let date = new Date(time*1000);\r\n  let options = { weekday: 'long', day: 'numeric', year: 'numeric', month: 'long' };\r\n  \r\n  return <div>\r\n                    <article\r\n                          key={id}\r\n                          className=\"bg-gray-800 rounded p-3 transition-all duration-150\">\r\n                        <Link to=\"/\">\r\n                          <h3 className=\"border-b font-bolder text-white text-xl mb-3\">Home</h3>\r\n                        </Link>\r\n                        <Outlet />\r\n                      \r\n                        <h3 className=\"font-bold text-white text-lg mb-3\">\r\n                          {title}\r\n                        </h3> \r\n        \r\n                        <article className=\"flex items-center justify-between\">\r\n                          <p className=\"text-gray-600\">\r\n                            By <em>{author}</em>\r\n                          </p>\r\n                          <a\r\n                            href={url}\r\n                            target=\"_blank\"\r\n                            rel=\"noopenner noreferrer\"\r\n                            className=\"border-b border-gray-700 text-gray-600 text-lg hover:text-gray-400 hover:border-gray-400\"\r\n                          >\r\n                            Link\r\n                          </a>\r\n                    \r\n                    </article>\r\n                    <p className=\"text-gray-400 mt-10\">\r\n                      {date.toLocaleDateString(\"en-US\", options)}\r\n                    </p>\r\n                    <p className=\"text-gray-400 mt-10\">\r\n                      Comments: {descendants}\r\n                    </p>\r\n                  </article> \r\n                  {\r\n                      commentId &&\r\n                        (\r\n                              <div className=\" gap-5 p-5 md:grid-cols-2 container mx-auto lg:max-w-4xl\">\r\n                              \r\n                              <article\r\n                                key={commentId}\r\n                                className=\"bg-gray-800 rounded p-3 transition-all duration-150\"\r\n                              >\r\n                              <h4 className=\"font-bold text-white  mb-3\">\r\n                                {commentText}\r\n                              </h4>      \r\n                              <article className=\"flex items-center justify-between\">\r\n                                <p className=\"text-gray-600\">\r\n                                  By <em>{commentBy}</em>\r\n                                </p>\r\n                              </article>\r\n                                \r\n                              <p className=\"text-gray-400 mt-10\">\r\n                                {date.toLocaleDateString(\"en-US\", options)}\r\n                              </p>\r\n                              </article>\r\n                            </div>\r\n                        )\r\n                  }\r\n    </div>   \r\n}\r\n\r\nexport default Item;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ","D:\\JsProjects\\hacker-news-main\\hackerNewsAPI-reactjs\\src\\components\\FetchNews.jsx",["29","30","31","32","33","34","35","36","37"],"import { useState, useEffect } from \"react\"\r\nimport React from \"react\";\r\nimport { BrowserRouter as Router,  Outlet, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nexport default function FetchNews() {\r\n\r\n  \r\n  const [stories, setStories] = useState([])\r\n  const [storiess, setStoriess] = useState([])\r\n  const [query, setQuery] = useState(\"programming\")\r\n  const [isLoading, setIsLoading] = useState(true) \r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    const fetchNews = async () => {\r\n\r\n      const api_url_newstories = await \r\n      fetch (\r\n      \"https://hacker-news.firebaseio.com/v0/newstories.json?print=pretty\"\r\n      )\r\n      const idStories = await api_url_newstories.json();\r\n      \r\n      var step;\r\n          // выбираем 100 новых новостей\r\n          for (step = 0; step < 100; step++) {\r\n              // Открываем страницу новости\r\n              const api_urlStory = await\r\n              fetch (\r\n              `https://hacker-news.firebaseio.com/v0/item/${idStories[step]}.json?print=pretty\"`\r\n              )\r\n              const story = await api_urlStory.json();\r\n              if (story != null){\r\n                stories.push(story); \r\n              }\r\n          } \r\n          setStoriess(stories);\r\n    }\r\n    fetchNews()\r\n    setIsLoading(false)\r\n  }, [query])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <main>\r\n        {isLoading ? (\r\n          <div className=\"spinner\"></div>\r\n        ) : (\r\n          <>\r\n            <button\r\n                      type=\"button\"\r\n                      onClick={handleSubmit}\r\n                      className=\"bg-white border border-gray-700 lg:text-xl py-2 px-6 rounded lg:pb-3 text-gray-700 hover:bg-transparent transition-all duration-150\"\r\n                    >\r\n                      Reload\r\n                    </button>\r\n            <section className=\"grid grid-cols-1 gap-5 p-5 md:grid-cols-2 container mx-auto lg:max-w-4xl\">\r\n              {\r\n                storiess.flatMap((item) => {\r\n\r\n                const { by, id,  time, title, url, descendants } = item\r\n\r\n                // конвертируем дату из long в date\r\n                let date = new Date(time*1000);\r\n                let options = { weekday: 'long', day: 'numeric', year: 'numeric', month: 'long' };\r\n                \r\n\r\n                return (\r\n                  <button onClick={async event => { navigate(`/Item/${id}`); }}>\r\n                    <article\r\n                      key={id}\r\n                      className=\"bg-gray-800 rounded p-3 transition-all duration-150\"\r\n                    >\r\n                    <h3 className=\"font-bold text-white text-lg mb-3\">\r\n                      {title}\r\n                    </h3>      \r\n                    <article className=\"flex items-center justify-between\">\r\n                      <p className=\"text-gray-600\">\r\n                        By <em>{by}</em>\r\n                      </p>\r\n                      <p className=\"text-gray-600\">\r\n                      Comments: {descendants}\r\n                      </p>\r\n                    </article>\r\n                    <p className=\"text-gray-400 mt-10\">\r\n                      {date.toLocaleDateString(\"en-US\", options)}\r\n                    </p>\r\n                    </article>\r\n                    <Outlet />\r\n                  </button>\r\n                )\r\n              })}\r\n            </section>\r\n          </>\r\n        )}\r\n      </main>\r\n    </>\r\n  )\r\n}",{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":2,"column":27,"nodeType":"44","messageId":"45","endLine":2,"endColumn":33},{"ruleId":"42","severity":1,"message":"46","line":11,"column":7,"nodeType":"44","messageId":"45","endLine":11,"endColumn":9},{"ruleId":"42","severity":1,"message":"47","line":20,"column":18,"nodeType":"44","messageId":"45","endLine":20,"endColumn":27},{"ruleId":"42","severity":1,"message":"48","line":21,"column":10,"nodeType":"44","messageId":"45","endLine":21,"endColumn":19},{"ruleId":"42","severity":1,"message":"49","line":23,"column":9,"nodeType":"44","messageId":"45","endLine":23,"endColumn":17},{"ruleId":"50","severity":1,"message":"51","line":55,"column":6,"nodeType":"52","endLine":55,"endColumn":14,"suggestions":"53"},{"ruleId":"42","severity":1,"message":"43","line":3,"column":27,"nodeType":"44","messageId":"45","endLine":3,"endColumn":33},{"ruleId":"42","severity":1,"message":"54","line":3,"column":35,"nodeType":"44","messageId":"45","endLine":3,"endColumn":40},{"ruleId":"42","severity":1,"message":"55","line":3,"column":42,"nodeType":"44","messageId":"45","endLine":3,"endColumn":48},{"ruleId":"42","severity":1,"message":"56","line":3,"column":50,"nodeType":"44","messageId":"45","endLine":3,"endColumn":64},{"ruleId":"42","severity":1,"message":"57","line":3,"column":66,"nodeType":"44","messageId":"45","endLine":3,"endColumn":70},{"ruleId":"42","severity":1,"message":"58","line":9,"column":19,"nodeType":"44","messageId":"45","endLine":9,"endColumn":29},{"ruleId":"42","severity":1,"message":"59","line":11,"column":17,"nodeType":"44","messageId":"45","endLine":11,"endColumn":25},{"ruleId":"50","severity":1,"message":"60","line":42,"column":6,"nodeType":"52","endLine":42,"endColumn":13,"suggestions":"61"},{"ruleId":"42","severity":1,"message":"62","line":67,"column":47,"nodeType":"44","messageId":"45","endLine":67,"endColumn":50},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","'by' is assigned a value but never used.","'setQueryy' is assigned a value but never used.","'isLoading' is assigned a value but never used.","'navigate' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'itemId'. Either include it or remove the dependency array.","ArrayExpression",["65"],"'Route' is defined but never used.","'Routes' is defined but never used.","'ReactRouterDOM' is defined but never used.","'Link' is defined but never used.","'setStories' is assigned a value but never used.","'setQuery' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'stories'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setStoriess' needs the current value of 'stories'.",["66"],"'url' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},{"desc":"69","fix":"70"},"Update the dependencies array to be: [itemId, queryy]",{"range":"71","text":"72"},"Update the dependencies array to be: [query, stories]",{"range":"73","text":"74"},[1649,1657],"[itemId, queryy]",[1349,1356],"[query, stories]"]